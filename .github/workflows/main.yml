on: workflow_dispatch
name: ðŸš€ Deploy website on push
jobs:
    deploy_job:
        runs-on: ubuntu-latest
        name: deploy
        steps:
            - name: ðŸšš Get latest code
              uses: actions/checkout@v2

            - name: ðŸ“‚ Sync files
              uses: SamKirkland/FTP-Deploy-Action@4.1.0
              with:
                  host: "ssh.strato.de"
                  username: "mad_207@maximiliandammert.com"
                  password: ${{ secrets.STRATO_FTP_PASSWORD }}
                  port: 22
                  local-dir: "./mxdmrt.github.io"
                  server-dir: "/test/"
                  exclude:
                      - **/.git*
                      - **/.git*/**
                      - **/node_modules/**
                      - fileToExclude.txt
                  dry-run: true
